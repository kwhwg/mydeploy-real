<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>My Deploy Pro</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
*{box-sizing:border-box}
body{
margin:0;
font-family: 'Segoe UI',sans-serif;
background:linear-gradient(135deg,#0f172a,#1e293b);
color:white;
}

.container{
max-width:900px;
margin:auto;
padding:20px;
}

.header{
font-size:24px;
font-weight:bold;
margin-bottom:20px;
}

.card{
background:#1e293b;
padding:20px;
border-radius:14px;
margin-bottom:20px;
box-shadow:0 10px 25px rgba(0,0,0,0.3);
}

input,textarea{
width:100%;
padding:10px;
margin:8px 0;
border:none;
border-radius:8px;
background:#334155;
color:white;
}

button{
padding:10px 14px;
margin:5px 3px;
border:none;
border-radius:8px;
cursor:pointer;
font-weight:bold;
transition:0.3s;
}

.primary{background:#6366f1;color:white;}
.success{background:#22c55e;color:white;}
.warning{background:#f59e0b;color:white;}
.danger{background:#ef4444;color:white;}
.secondary{background:#475569;color:white;}

button:hover{opacity:0.8;}

.project{
background:#334155;
padding:15px;
border-radius:10px;
margin-top:10px;
animation:fadeIn 0.4s ease;
}

.loadingbar{
height:5px;
background:#22c55e;
width:0%;
border-radius:5px;
transition:2s;
margin-top:10px;
}

.modal{
position:fixed;
top:0;
left:0;
width:100%;
height:100%;
background:rgba(0,0,0,0.6);
display:none;
justify-content:center;
align-items:center;
}

.modal-content{
background:#1e293b;
padding:20px;
border-radius:12px;
width:90%;
max-width:600px;
}

@keyframes fadeIn{
from{opacity:0;transform:translateY(10px);}
to{opacity:1;transform:translateY(0);}
}

.stats{
font-size:14px;
opacity:0.8;
}
</style>
</head>
<body>

<div class="container">

<div class="header">ðŸš€ My Deploy Pro</div>

<div class="card">
<input type="text" id="projectName" placeholder="Project Name">
<textarea id="codeInput" rows="6" placeholder="Paste HTML here..."></textarea>
<input type="file" id="fileInput" accept=".html">
<button class="primary" onclick="deploy()">Deploy</button>
<div class="loadingbar" id="loading"></div>
</div>

<div class="card">
<div class="stats" id="stats">Total Project: 0</div>
</div>

<div class="card">
<div id="projectList"></div>
</div>

</div>

<!-- MODAL EDIT -->
<div class="modal" id="editModal">
<div class="modal-content">
<h3>Edit Project</h3>
<input type="text" id="editName">
<textarea id="editCode" rows="8"></textarea>
<button class="success" onclick="saveEdit()">Save</button>
<button class="secondary" onclick="closeModal()">Cancel</button>
</div>
</div>

<script>

let projects = JSON.parse(localStorage.getItem("projects") || "[]");
let editIndex = null;

const nameInput = document.getElementById("projectName");
const codeInput = document.getElementById("codeInput");
const fileInput = document.getElementById("fileInput");
const loading = document.getElementById("loading");

fileInput.addEventListener("change", function(){
let file = this.files[0];
if(file){
let reader = new FileReader();
reader.onload = function(e){
codeInput.value = e.target.result;
};
reader.readAsText(file);
}
});

function deploy(){
let name = nameInput.value.trim();
let code = codeInput.value.trim();
if(!name || !code){alert("Isi semua dulu!");return;}

loading.style.width="100%";

setTimeout(()=>{
projects.push({name,code});
localStorage.setItem("projects",JSON.stringify(projects));
loading.style.width="0%";
nameInput.value="";
codeInput.value="";
render();
},2000);
}

function render(){
projects = JSON.parse(localStorage.getItem("projects") || "[]");
document.getElementById("stats").innerText="Total Project: "+projects.length;

let list="";
projects.forEach((p,i)=>{
list+=`
<div class="project">
<b>${p.name}</b><br><br>
<button class="primary" onclick="openProject(${i})">Open</button>
<button class="warning" onclick="editProject(${i})">Edit</button>
<button class="secondary" onclick="exportProject(${i})">Export</button>
<button class="danger" onclick="deleteProject(${i})">Delete</button>
</div>`;
});
document.getElementById("projectList").innerHTML=list;
}

function openProject(i){
let win = window.open();
win.document.write(projects[i].code);
}

function editProject(i){
editIndex=i;
document.getElementById("editName").value=projects[i].name;
document.getElementById("editCode").value=projects[i].code;
document.getElementById("editModal").style.display="flex";
}

function saveEdit(){
projects[editIndex].name=document.getElementById("editName").value;
projects[editIndex].code=document.getElementById("editCode").value;
localStorage.setItem("projects",JSON.stringify(projects));
closeModal();
render();
}

function closeModal(){
document.getElementById("editModal").style.display="none";
}

function exportProject(i){
let blob=new Blob([projects[i].code],{type:"text/html"});
let a=document.createElement("a");
a.href=URL.createObjectURL(blob);
a.download=projects[i].name+".html";
a.click();
}

function deleteProject(i){
projects.splice(i,1);
localStorage.setItem("projects",JSON.stringify(projects));
render();
}

render();

</script>

</body>
</html>
